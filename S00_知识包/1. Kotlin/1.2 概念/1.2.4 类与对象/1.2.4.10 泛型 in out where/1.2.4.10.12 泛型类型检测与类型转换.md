### ğŸ” æ³›å‹ç±»å‹æ£€æµ‹ä¸ç±»å‹è½¬æ¢

ğŸ§¬ ç”±äºç±»å‹æ“¦é™¤ï¼Œå¹¶æ²¡æœ‰é€šç”¨çš„æ–¹æ³•åœ¨è¿è¡Œæ—¶æ£€æµ‹ä¸€ä¸ªæ³›å‹ç±»å‹çš„å®ä¾‹æ˜¯å¦é€šè¿‡æŒ‡å®šç±»å‹å‚æ•°æ‰€åˆ›å»ºã€‚

ğŸš« ç¼–è¯‘å™¨ç¦æ­¢è¿™ç§ `is` æ£€æµ‹ï¼Œä¾‹å¦‚ `ints is List<Int>` æˆ– `list is T`ï¼ˆç±»å‹å‚æ•°ï¼‰ã€‚

#### âœ¨ å½“ç„¶ï¼Œä½ å¯ä»¥å¯¹ä¸€ä¸ªå®ä¾‹æ£€æµ‹æ˜ŸæŠ•å½±çš„ç±»å‹ï¼š

```kotlin
if (something is List<*>) {
    something.forEach { println(it) } // æ¯ä¸€é¡¹çš„ç±»å‹éƒ½æ˜¯ `Any?`
}
```

ğŸ”„ ç±»ä¼¼åœ°ï¼Œå½“å·²ç»è®©ä¸€ä¸ªå®ä¾‹çš„ç±»å‹å‚æ•°ï¼ˆåœ¨ç¼–è¯‘æœŸï¼‰é™æ€æ£€æµ‹ï¼Œ

ğŸ§ª å°±å¯ä»¥å¯¹æ¶‰åŠéæ³›å‹éƒ¨åˆ†åš `is` æ£€æµ‹æˆ–è€…ç±»å‹è½¬æ¢ã€‚

#### âš ï¸ è¯·æ³¨æ„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šçœç•¥å°–æ‹¬å·ï¼š

```kotlin
fun handleStrings(list: MutableList<String>) {
    if (list is ArrayList) {
        // `list` æ™ºèƒ½è½¬æ¢ä¸º `ArrayList<String>`
    }
}
```

ğŸ”„ çœç•¥ç±»å‹å‚æ•°çš„è¿™ç§è¯­æ³•å¯ç”¨äºä¸è€ƒè™‘ç±»å‹å‚æ•°çš„ç±»å‹è½¬æ¢ï¼š`list as ArrayList`ã€‚

ğŸ” æ³›å‹å‡½æ•°è°ƒç”¨çš„ç±»å‹å‚æ•°ä¹ŸåŒæ ·åªåœ¨ç¼–è¯‘æœŸæ£€æµ‹ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œ
ç±»å‹å‚æ•°ä¸èƒ½ç”¨äºç±»å‹æ£€æµ‹ï¼Œå¹¶ä¸”ç±»å‹è½¬æ¢ä¸ºç±»å‹å‚æ•°ï¼ˆ`foo as T`ï¼‰ä¹Ÿæ˜¯éå—æ£€çš„ã€‚

ğŸŒŸ å”¯ä¸€çš„ä¾‹å¤–æ˜¯å…·æœ‰ `å…·ä½“åŒ–çš„ç±»å‹å‚æ•°` çš„å†…è”å‡½æ•°ï¼Œ
å®ƒä»¬çš„å®é™…ç±»å‹å‚æ•°åœ¨æ¯ä¸ªè°ƒç”¨ç‚¹éƒ½ä¼šè¢«å†…è”ã€‚è¿™ä½¿å¾—å¯¹ç±»å‹å‚æ•°è¿›è¡Œç±»å‹æ£€æŸ¥å’Œè½¬æ¢æˆä¸ºå¯èƒ½ã€‚

âš ï¸ ç„¶è€Œï¼Œä¸Šè¿°é™åˆ¶ä»ç„¶é€‚ç”¨äºåœ¨æ£€æŸ¥æˆ–è½¬æ¢ä¸­ä½¿ç”¨çš„æ³›å‹ç±»å‹å®ä¾‹ã€‚

#### ğŸ­ ä¾‹å¦‚ï¼Œåœ¨ç±»å‹æ£€æŸ¥ `arg is T` ä¸­ï¼Œå¦‚æœ `arg` æœ¬èº«æ˜¯æ³›å‹ç±»å‹çš„å®ä¾‹ï¼Œå…¶ç±»å‹å‚æ•°ä»ç„¶ä¼šè¢«æ“¦é™¤ã€‚

```kotlin
inline fun <reified A, reified B> Pair<*, *>.asPairOf(): Pair<A, B>? {
    if (first !is A || second !is B) return null
    return first as A to second as B
}

val somePair: Pair<Any?, Any?> = "items" to listOf(1, 2, 3)


val stringToSomething = somePair.asPairOf<String, Any>()
val stringToInt = somePair.asPairOf<String, Int>()
val stringToList = somePair.asPairOf<String, List<*>>()
val stringToStringList = somePair.asPairOf<String, List<String>>() // ç¼–è¯‘é€šè¿‡ä½†ç ´åäº†ç±»å‹å®‰å…¨ï¼ ğŸš¨
// å±•å¼€ç¤ºä¾‹ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ ğŸ”


fun main() {
    println("stringToSomething = " + stringToSomething)
    println("stringToInt = " + stringToInt)
    println("stringToList = " + stringToList)
    println("stringToStringList = " + stringToStringList)
    //println(stringToStringList?.second?.forEach() {it.length}) // è¿™å°†æŠ›å‡º ClassCastExceptionï¼Œå› ä¸ºåˆ—è¡¨é¡¹ä¸æ˜¯ String ç±»å‹ âš ï¸
}
```