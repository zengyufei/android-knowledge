### ğŸ§¬ æ•°æ®å¯¹è±¡

#### ğŸ–¨ï¸ åœ¨Kotlinä¸­æ‰“å°æ™®é€šçš„`object`å£°æ˜æ—¶ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºåŒ…å«äº†å¯¹è±¡çš„åç§°å’Œå“ˆå¸Œå€¼ï¼š

```kotlin
object MyObject

fun main() {
    println(MyObject) // MyObject@1f32e575
}
```

#### ğŸ§¬ æ•°æ®å¯¹è±¡

ğŸŒŸ å°±åƒ `æ•°æ®ç±»` ä¸€æ ·ï¼Œä½ å¯ä»¥ç”¨ `data` ä¿®é¥°ç¬¦æ ‡è®°ä¸€ä¸ª `object` å£°æ˜ã€‚
ğŸ”§ è¿™æŒ‡ç¤ºç¼–è¯‘å™¨ä¸ºä½ çš„å¯¹è±¡ç”Ÿæˆä¸€äº›å‡½æ•°ï¼š

* ğŸ–¨ï¸ `toString()` è¿”å›æ•°æ®å¯¹è±¡çš„åç§°
* ğŸ”„ `equals()`/`hashCode()` å¯¹

> ğŸš« ä½ ä¸èƒ½ä¸º `data object` æä¾›è‡ªå®šä¹‰çš„ `equals` æˆ– `hashCode` å®ç°ã€‚


#### ğŸ·ï¸ æ•°æ®å¯¹è±¡çš„ `toString()` å‡½æ•°è¿”å›å¯¹è±¡çš„åç§°ï¼š
```kotlin
data object MyDataObject {
    val x: Int = 3
}

fun main() {
    println(MyDataObject) // MyDataObject
}
```

ğŸ” `data object` çš„ `equals()` å‡½æ•°ç¡®ä¿æ‰€æœ‰å…·æœ‰è¯¥ `data object` ç±»å‹çš„å¯¹è±¡éƒ½è¢«è§†ä¸ºç›¸ç­‰ã€‚

ğŸ•°ï¸ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åœ¨è¿è¡Œæ—¶åªä¼šæœ‰ä¸€ä¸ªæ•°æ®å¯¹è±¡çš„å®ä¾‹ï¼ˆæ¯•ç«Ÿï¼Œ`data object` å£°æ˜äº†ä¸€ä¸ªå•ä¾‹ï¼‰ã€‚

ğŸ”§ ç„¶è€Œï¼Œåœ¨æç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶ç”Ÿæˆäº†ç›¸åŒç±»å‹çš„å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ `java.lang.reflect` çš„å¹³å°åå°„æˆ–ä½¿ç”¨æ­¤ API çš„ JVM åºåˆ—åŒ–åº“ï¼‰ï¼Œè¿™ç¡®ä¿äº†è¿™äº›å¯¹è±¡è¢«è§†ä¸ºç›¸ç­‰ã€‚

> ğŸš¨ ç¡®ä¿ä½ åªä½¿ç”¨ç»“æ„æ¯”è¾ƒæ¥æ¯”è¾ƒ `data objects`ï¼ˆä½¿ç”¨ `==` è¿ç®—ç¬¦ï¼‰ï¼Œè€Œä¸æ˜¯é€šè¿‡å¼•ç”¨æ¯”è¾ƒï¼ˆä½¿ç”¨ `===` è¿ç®—ç¬¦ï¼‰ã€‚
> ğŸ›¡ï¸ è¿™æœ‰åŠ©äºä½ é¿å…åœ¨è¿è¡Œæ—¶å­˜åœ¨å¤šä¸ªæ•°æ®å¯¹è±¡å®ä¾‹æ—¶çš„é™·é˜±ã€‚


```kotlin
import java.lang.reflect.Constructor

data object MySingleton

fun main() {
    val evilTwin = createInstanceViaReflection()

    println(MySingleton) // ğŸ  MySingleton
    println(evilTwin) // ğŸ¢ MySingleton

    // ğŸ” å³ä½¿å½“ä¸€ä¸ªåº“å¼ºåˆ¶åˆ›å»ºäº†MySingletonçš„ç¬¬äºŒä¸ªå®ä¾‹ï¼Œå…¶`equals`æ–¹æ³•ä¹Ÿè¿”å›true:
    println(MySingleton == evilTwin) // ğŸ¯ true

    // ğŸš« ä¸è¦ä½¿ç”¨===æ¯”è¾ƒæ•°æ®å¯¹è±¡ã€‚
    println(MySingleton === evilTwin) // ğŸš© false
}

fun createInstanceViaReflection(): MySingleton {
    // ğŸ”’ Kotlinåå°„ä¸å…è®¸å®ä¾‹åŒ–æ•°æ®å¯¹è±¡ã€‚
    // ğŸ’ª è¿™é‡Œé€šè¿‡"å¼ºåˆ¶"æ–¹å¼åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„MySingletonå®ä¾‹ï¼ˆå³Javaå¹³å°åå°„ï¼‰
    // âš ï¸ ä¸è¦è‡ªå·±è¿™æ ·åšï¼
    return (MySingleton.javaClass.declaredConstructors[0].apply { isAccessible = true } as Constructor<MySingleton>).newInstance()
}
```

ğŸ”¢ ç”Ÿæˆçš„ `hashCode()` å‡½æ•°çš„è¡Œä¸ºä¸ `equals()` å‡½æ•°ä¿æŒä¸€è‡´ï¼Œå› æ­¤ `data object` çš„æ‰€æœ‰è¿è¡Œæ—¶å®ä¾‹éƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œç ã€‚

ğŸ”„ è¿™ç¡®ä¿äº†å³ä½¿åœ¨æå°‘æ•°æƒ…å†µä¸‹åˆ›å»ºäº†å¤šä¸ªå®ä¾‹ï¼Œå®ƒä»¬ä¹Ÿä¼šè¢«è§†ä¸ºç›¸ç­‰ã€‚